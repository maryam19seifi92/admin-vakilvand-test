const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B2mnNxG9.js","./BnpvUAXn.js","./H5jg8Rw7.js","./entry.BJZwPDQ3.css","./vue3-datatable.DnDGwJ8n.css","./DhQy3bIE.js","./BNpa7VgT.js","./D369H2F-.js","./7DhFwtSC.js","./5eR0pXb4.js","./-NDTQcXa.js","./CIC-ZNfW.js","./Add.59uhlqPO.css"])))=>i.map(i=>d[i]);
import{p as W,f as X,r as d,m as w,q as R,s as Y,g as Z,c,o as p,a as o,b as n,w as m,u as i,F as k,l as C,t as _,k as tt,v as et,x as ot,i as st,n as at,j as lt,d as A,A as nt,B as rt,_ as it}from"./H5jg8Rw7.js";import{_ as dt}from"./DhQy3bIE.js";import{a as ut,_ as ct}from"./Cr8A0vux.js";import{u as g,_ as pt,a as mt,x as vt}from"./BnpvUAXn.js";import{_ as _t}from"./1xeeS04y.js";import{u as gt}from"./B-2h7f5y.js";import{u as ft}from"./5eR0pXb4.js";const wt=W("/empty/matter.svg"),bt=nt(()=>rt(()=>import("./B2mnNxG9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url).then(V=>V.default||V)),ht={class:"mb-4 flex items-center gap-4"},xt={class:"flex w-full flex-col gap-4 sm:w-auto sm:flex-row sm:items-center sm:gap-3"},yt={class:"dropdown"},kt={type:"button",class:"flex items-center rounded-md border border-[#e0e6ed] px-4 py-2 text-sm font-semibold dark:border-[#253b5c] dark:bg-[#1b2e4b] dark:text-white-dark"},Ct={class:"grid w-80 gap-3 bg-white p-3"},Vt={class:"flex items-center justify-end gap-x-2"},Lt={class:"dropdown"},Mt={type:"button",class:"flex items-center rounded-md border border-[#e0e6ed] px-4 py-2 text-sm font-semibold dark:border-[#253b5c] dark:bg-[#1b2e4b] dark:text-white-dark"},$t={class:"whitespace-nowrap"},At={class:"flex items-center px-4 py-1"},Dt={class:"mb-0 cursor-pointer"},Bt=["id","value","onChange","checked"],jt=["for"],It={class:"relative"},Nt=["onKeyup"],Pt={class:"absolute top-1/2 -translate-y-1/2 peer-focus:text-primary ltr:right-[11px] rtl:left-[11px]"},St={class:"mr-auto flex items-center gap-x-2 rounded border border-info p-1"},Ut=["onClick"],Ft={class:"panel mt-6 pb-0"},Kt={class:"datatable"},Rt={key:0,class:"pb-4 text-center"},zt=X({__name:"index",async setup(V){let s,u;gt({title:"پرونده ها"});const b=ft(),L=d(""),{data:D}=([s,u]=w(()=>g("/matter-case/lawyers",{transform:l=>l.map(t=>{var f;return{id:t.id,label:((f=t.user)==null?void 0:f.name)||"",...t}})})),s=await s,u(),s),{data:B}=([s,u]=w(()=>g("/matter-case/categories",{transform:l=>l.map(t=>({id:t.id,label:t.name,...t}))})),s=await s,u(),s),{data:j}=([s,u]=w(()=>g("/matter-case/stages",{transform:l=>l.map(t=>({id:t.id,label:t.name,...t}))})),s=await s,u(),s),{data:z}=([s,u]=w(()=>g("/contact",{transform:l=>l.data.map(t=>({id:t.id,label:t.firm_specific_display_name,...t}))})),s=await s,u(),s),{data:E}=([s,u]=w(()=>g("/countries")),s=await s,u(),s),I=d(1),N=d(1),O=d(1),a=d({lawyer:"",category:"",stage:"",status:""}),v=async l=>{try{b.toggleLoader(!0);const{data:t}=await g(`/matter?type=&lawyer=${a.value.lawyer}&client=${L.value}&category=${a.value.category}&stage=${a.value.stage}&status=${a.value.status}`);b.toggleLoader(!1),N.value=t.value.current_page,O.value=t.value.last_page,I.value=t.value.total,$.value=t.value.data}catch{b.toggleLoader(!1)}};v();const M=d("all"),T=d([{id:"all",title:"همه"},{id:"closed",title:"مختومه شده"},{id:"ongoing",title:"جاری"}]);R(M,(l,t)=>{v()});const h=d([]),q=d([{field:"action",title:"اقدام بعدی",isUnique:!0,hide:!1},{field:"id",title:"شناسه",hide:!1},{field:"participants",title:"موکل / موکلین",hide:!1},{field:"category",title:"موضوع پرونده",hide:!1},{field:"case_name",title:"عنوان پرونده",hide:!1},{field:"notif",title:"اعلان ها پرونده",hide:!0},{field:"stage",title:"مرحله رسیدگی",hide:!0},{field:"clients",title:"طرف/طرفین",hide:!0},{field:"status",title:"وضعیت مالی",hide:!1}]),$=d([]),x=d(!1);Y(()=>{const l=localStorage.getItem("matterKey");h.value=l?JSON.parse(l):q.value}),R(()=>h.value,(l,t)=>{localStorage.setItem("matterKey",JSON.stringify(l))},{deep:!0});const J=()=>{a.value.lawyer="",a.value.stage="",a.value.status="",a.value.category="",v()},P=async()=>{N.value=1,v()},S=mt(P,2e3);return(l,t)=>{const f=dt,U=ut,y=pt,F=Z("Popper"),K=ct,G=_t,H=bt;return p(),c("div",null,[o("div",ht,[t[11]||(t[11]=o("h2",{class:"text-xl"},"پرونده ها",-1)),o("button",{type:"button",class:"btn btn-primary mr-auto flex items-center gap-x-1",onClick:t[0]||(t[0]=e=>x.value=!0)},[t[10]||(t[10]=o("span",null," افزودن پرونده ",-1)),n(f,{class:"ltr:mr-2 rtl:ml-2"})])]),o("div",xt,[o("div",yt,[n(K,null,{default:m(()=>[n(F,{placement:"bottom-end",offsetDistance:"0",class:"align-middle"},{content:m(()=>[o("div",Ct,[n(y,{options:i(D),label:"وکیل مسئول",placeholder:"انتخاب مسئول رسیدگی",modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e)},null,8,["options","modelValue"]),n(y,{options:i(B),label:"موضوع پرونده",placeholder:"انتخاب موضوع پرونده",modelValue:a.value,"onUpdate:modelValue":t[2]||(t[2]=e=>a.value=e)},null,8,["options","modelValue"]),n(y,{options:i(j),label:"مرحله رسیدگی",placeholder:"انتخاب مرحله رسیدگی",modelValue:a.value,"onUpdate:modelValue":t[3]||(t[3]=e=>a.value=e)},null,8,["options","modelValue"]),n(y,{options:[],label:"وضعیت مالی",placeholder:"انتخاب وضعیت مالی",modelValue:a.value,"onUpdate:modelValue":t[4]||(t[4]=e=>a.value=e)},null,8,["modelValue"]),o("div",Vt,[o("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=e=>v())},"اعمال فیلتر"),o("button",{type:"button",class:"btn btn-outline-primary",onClick:J},"حذف فیلتر")])])]),default:m(()=>[o("button",kt,[t[12]||(t[12]=o("span",null,"فیلتر",-1)),n(U,{class:"h-5 w-5"})])]),_:1})]),_:1})]),o("div",Lt,[n(K,null,{default:m(()=>[n(F,{placement:i(b).rtlClass==="rtl"?"bottom-end":"bottom-start",offsetDistance:"0",class:"align-middle"},{content:m(()=>[o("ul",$t,[(p(!0),c(k,null,C(h.value,(e,r)=>(p(),c("li",{key:r},[o("div",At,[o("label",Dt,[o("input",{type:"checkbox",class:"form-checkbox",id:`chk-${r}`,value:e.field,onChange:Q=>e.hide=!Q.target.checked,checked:!e.hide},null,40,Bt),o("span",{for:`chk-${r}`,class:"ltr:ml-2 rtl:mr-2"},_(e.title),9,jt)])])]))),128))])]),default:m(()=>[o("button",Mt,[t[13]||(t[13]=o("span",{class:"ltr:mr-1 rtl:ml-1"},"ستون ها",-1)),n(U,{class:"h-5 w-5"})])]),_:1},8,["placement"])]),_:1})]),o("div",It,[tt(o("input",{type:"text",placeholder:"جستجو بر اساس موکل",class:"peer form-input py-2 ltr:pr-11 rtl:pl-11","onUpdate:modelValue":t[6]||(t[6]=e=>L.value=e),onInput:t[7]||(t[7]=(...e)=>i(S)&&i(S)(...e)),onKeyup:ot(st(P,["exact"]),["enter"])},null,40,Nt),[[et,L.value]]),o("div",Pt,[n(G,{class:"mx-auto"})])]),o("div",St,[(p(!0),c(k,null,C(T.value,e=>(p(),c("button",{type:"button",class:at(["btn btn-sm flex items-center gap-x-1 !border-none",M.value===e.id?"btn-info":"btn-outline-info"]),onClick:r=>M.value=e.id,key:e.id},[o("span",null,_(e.title),1)],10,Ut))),128))])]),o("div",Ft,[o("div",Kt,[n(i(vt),{paginationInfo:"نمایش {0} تا {1} از کل {2} ",hasCheckbox:!0,rows:$.value,columns:h.value,totalRows:I.value,noDataContent:" ",sortable:!0,skin:"whitespace-nowrap bh-table-hover",firstArrow:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M13 19L7 12L13 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M16.9998 19L10.9998 12L16.9998 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>',lastArrow:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M11 19L17 12L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M6.99976 19L12.9998 12L6.99976 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg> ',previousArrow:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M15 5L9 12L15 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>',nextArrow:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M9 5L15 12L9 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'},{participants:m(e=>[(p(!0),c(k,null,C(e.value.participants,r=>(p(),c("span",null,_(r.name),1))),256))]),category:m(e=>{var r;return[A(_((r=e.value.category)==null?void 0:r.name),1)]}),stage:m(e=>{var r;return[A(_((r=e.value.stage)==null?void 0:r.name),1)]}),clients:m(e=>[(p(!0),c(k,null,C(e.value.clients,r=>(p(),c("span",null,_(r.reagent),1))),256))]),_:1},8,["rows","columns","totalRows"]),$.value.length?lt("",!0):(p(),c("div",Rt,[t[15]||(t[15]=o("img",{src:wt,alt:"",class:"mx-auto"},null,-1)),t[16]||(t[16]=o("p",{class:"mb-2 font-bold"},"هنوز هیچ پرونده‌ای ثبت نکرده‌اید.",-1)),t[17]||(t[17]=o("p",{class:"mb-4 text-gray-600"}," با ثبت پرونده‌ها، دفتر حقوقی خود را هوشمند کنید — در هر لحظه و مکان به بایگانی پرونده‌های خود دسترسی داشته باشید و کارهای حقوقی‌تان را سریع‌تر و منظم‌تر مدیریت کنید. ",-1)),o("button",{type:"button",class:"btn btn-primary mx-auto flex items-center gap-x-1",onClick:t[8]||(t[8]=e=>x.value=!0)},[t[14]||(t[14]=A(" افزودن پرونده ")),n(f,{class:"ltr:mr-2 rtl:ml-2"})])]))])]),n(H,{open:x.value,onClose:t[9]||(t[9]=e=>x.value=!1),onGetData:v,countries:i(E),stages:i(j),clients:i(z),lawyers:i(D),categories:i(B)},null,8,["open","countries","stages","clients","lawyers","categories"])])}}}),Qt=it(zt,[["__scopeId","data-v-eebf9943"]]);export{Qt as default};
